<script>
    async function checkMetaMask() {
        if (typeof window.ethereum === 'undefined') {
            alert('MetaMask is not installed. Please install MetaMask to use this website.');
            return;
        }

        try {
            // Request account access
            await window.ethereum.request({ method: 'eth_requestAccounts' });
            const accounts = await window.ethereum.request({ method: 'eth_accounts' });
            const address = accounts[0];
            
            // Display the user's Ethereum address
            document.getElementById('content').innerHTML = `
                <h1>Welcome to Your Portfolio</h1>
                <p>Your Ethereum Address: ${address}</p>
                <p>Loading Ethereum Balance...</p>
            `;

            // Initialize Web3.js with the current provider (MetaMask)
            const web3 = new Web3(window.ethereum);

            // Get the ETH balance
            const balance = await web3.eth.getBalance(address);
            const balanceEth = web3.utils.fromWei(balance, 'ether');

            // Display the ETH balance
            document.getElementById('ethBalance').textContent = balanceEth;
        } catch (error) {
            console.error(error);
            alert('An error occurred while connecting to MetaMask.');
        }
    }

    document.getElementById('signInBtn').addEventListener('click', checkMetaMask);
</script>
